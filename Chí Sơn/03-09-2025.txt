Task7 Đã xong ✅ :
    Vào mysql sau khi cài xong:
        mysql -u root -p (nếu chưa có root thì phải sudo sql vào rồi tạo tài khoản trong mysql )
    Tạo database 2 bảng liên hệ với nhau:
        CREATE DATABASE company_db;
        USE company_db;
        CREATE TABLE departments (
            dept_id INT PRIMARY KEY AUTO_INCREMENT,
            dept_name VARCHAR(100) NOT NULL
        );

        CREATE TABLE employees (
            emp_id INT PRIMARY KEY AUTO_INCREMENT,
            emp_name VARCHAR(100) NOT NULL,
            dept_id INT,
            FOREIGN KEY (dept_id) REFERENCES departments(dept_id)
        );
        INSERT INTO departments (dept_name) VALUES ('HR'), ('Engineering');
        INSERT INTO employees (emp_name, dept_id) VALUES ('Alice', 1), ('Bob', 2);
    Tạo user cdc 
        CREATE USER 'chison'@'%' IDENTIFIED BY 'cdc_password';
    Đặt quyền tối thiểu
        GRANT SELECT, RELOAD, SHOW DATABASES, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'chison'@'%';
        FLUSH PRIVILEGES;

    Quên phải đặt binlog cho mysql để còn đọc những gì thay đổi, sửa file:
        vi /etc/mysql/mysql.conf.d/mysqld.cnf
            server-id         = 1 
            log_bin           = mysql-bin (bật binlog)
            binlog_format     = ROW (ghi full chi tiết trước và sau khi thay đổi)
            binlog_row_image  = FULL (ghi toàn bộ cột thay đổi)
            expire_logs_days  = 7 (tự động xóa log sau 7 ngày)
    
    Tạo connector mysql:
        curl -X POST http://127.0.1.1:8083/connectors \
        -H "Content-Type: application/json" \
        -d '{
            "name": "chison-connector",
            "config": {
            "connector.class": "io.debezium.connector.mysql.MySqlConnector",
            "tasks.max": "1",
            "database.hostname": "127.0.0.1",
            "database.port": "3306",
            "database.user": "chison",
            "database.password": "cdc_password",
            "database.server.id": "100001",
            "topic.prefix": "mysql_chison",
            "database.include.list": "company_db",
            "table.include.list": "company_db.departments,company_db.employees",
            "schema.history.internal.kafka.bootstrap.servers": "10.0.2.15:9092",
            "schema.history.internal.kafka.topic": "schema-changes.mysqlchison"
            }
        }'
    Tạo thành công connector và Check connector config:
        curl http://127.0.0.1:8083/connectors
        curl http://127.0.0.1:8083/connectors/chison-connector/status
            {"name":"chison-connector","connector":{"state":"RUNNING","worker_id":"127.0.1.1:8083"},"tasks":[{"id":0,"state":"RUNNING","worker_id":"127.0.1.1:8083"}],"type":"source"}
